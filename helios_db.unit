#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language

#> METIS § ····· § fix db unit test to use sample db NOT real one                         § N9L6WJ §  · §


#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                helios.h                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (DB) verify openning and closing of database                        0s  open            DB__open, DB__close                                                          ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   FILE   *x_db    = NULL;                                                                                                                                                                                                    
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -f  /tmp/helios.db       > /bin/null");                                                                                                                                                                        
     code     change name of conf file             - - - - - - - - - - - - -   ystrlcpy (my.file_data, "/tmp/helios.db"                             , LEN_PATH);                                                                                                                                           

   COND       attempt to close with no file open                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           DB__close                   &x_db                                                                                                 i_lesser    0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       attempt to open a missing file                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    my.file_data                           , 'r'         , &x_db                                          i_lesser    0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       verify openning a file                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     touch the database                   - - - - - - - - - - - - -   system ("touch  /tmp/helios.db       > /bin/null");                                                                                                                                                                        
     exec     call open                            DB__open                    my.file_data                           , 'r'         , &x_db                                          i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_exists    NULL                                                                                                 

   COND       attempt to re-open a file                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    my.file_data                           , 'r'         , &x_db                                          i_lesser    0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_exists    NULL                                                                                                 

   COND       verify closing the file                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       attempt to open with null name                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    NULL                                   , 'r'         , &x_db                                          i_lesser    0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       attempt to open with empty name                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    ""                                     , 'r'         , &x_db                                          i_lesser    0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       attempt to open without file pointer                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    my.file_data                           , 'r'         , NULL                                           i_lesser    0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       attempt to open with bad mode                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    my.file_data                           , '?'         , &x_db                                          i_lesser    0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       verify openning and closing existing for writing                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    my.file_data                           , 'w'         , &x_db                                          i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_exists    NULL                                                                                                 
     exec     call close                           DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       verify openning and closing non-existant for writing               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -f  /tmp/helios.db       > /bin/null");                                                                                                                                                                        
     exec     call open                            DB__open                    my.file_data                           , 'w'         , &x_db                                          i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_exists    NULL                                                                                                 
     exec     call close                           DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_db                                                                                                  p_null      NULL                                                                                                 

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -f  /tmp/helios.db       > /bin/null");                                                                                                                                                                        
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (DB) verify reading and writing database header                    0s   header          DB__header_write, DB__header_read                                            ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       initialize the testing environment                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     start testing                        PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char      x_prog    [LEN_LABEL] = "";                                                                                                                                                                            
     local    create working variable              - - - - - - - - - - - - -   char      x_ver     [LEN_LABEL] = "";                                                                                                                                                                            
     local    create working/return variable       - - - - - - - - - - - - -   int      x_ndrive, x_nconf, x_nmime, x_nentry;                                                                                                                                                                                                  
     local    create working/return variable       - - - - - - - - - - - - -   FILE     *x_db    = NULL;                                                                                                                                                                                                   
     local    create working variable              - - - - - - - - - - - - -   char      x_name    [LEN_DESC]  = "/tmp/helios.db";                                                                                                                                                               
     local    create working variable              - - - - - - - - - - - - -   char      x_heart   [LEN_DESC]  = "";                                                                                                                                                                                      
     exec     remove test file                     yURG_rm                     x_name                                                                                                i_equal     0                                                                                                    

   COND       verify output file does not exist                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     ... check on file                    yURG_peek_exists            x_name                                                                                                i_equal     -1                                                                                                   

   COND       verify writing to database                                         - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update name and ver                  - - - - - - - - - - - - -   strcpy (x_prog , "helios");   strcpy (x_ver  , "1.2f" );                                                                                                                                                                                                      
     code     update heartbeat                     - - - - - - - - - - - - -   yEXEC_heartbeat (12345, 1494680400, NULL, NULL, x_heart);                                                                                                                                                                  
     code     update variables                     - - - - - - - - - - - - -   x_ndrive = 4;  x_nconf = 37;  x_nmime = 123;  x_nentry = 632;                                                                                                                                                  
     exec     call open                            DB__open                    x_name         , 'w'            , &x_db                                                               i_equal     0                                                                                                    
     exec     call header write                    DB__head_write              x_db    , x_prog  , x_ver   , x_nconf , x_nmime , x_ndrive, x_nentry, x_heart                         i_equal     0                                                                                                    
     exec     call database close                  DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    
     exec     ... check on file                    yURG_peek_exists            x_name                                                                                                i_equal     0                                                                                                    

   COND  (0)  verify header contents                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ... review program                   - - - - - - - - - - - - -   x_prog                                                                                                w_equal     åheliosæ                                                                                             
     echo     ... review version                   - - - - - - - - - - - - -   x_ver                                                                                                 w_equal     å1.2fæ                                                                                               
     echo     ... review drive count               - - - - - - - - - - - - -   x_ndrive                                                                                              i_equal     4                                                                                                    
     echo     ... review conf count                - - - - - - - - - - - - -   x_nconf                                                                                               i_equal     37                                                                                                   
     echo     ... review mime count                - - - - - - - - - - - - -   x_nmime                                                                                               i_equal     123                                                                                                  
     echo     ... review entry count               - - - - - - - - - - - - -   x_nentry                                                                                              i_equal     632                                                                                                  
     echo     ... review heartbeat                 - - - - - - - - - - - - -   x_heart                                                                                               w_equal     å17.05.13.06.00.00.6.19.133  1494680400   ¬¬¬¬¬æ                                                     

   COND       clean out variables                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     update name and ver                  - - - - - - - - - - - - -   strcpy (x_prog , ""     );   strcpy (x_ver  , ""     );                                                                                                                                                                                                      
     code     update heartbeat                     - - - - - - - - - - - - -   strcpy (x_heart, "");                                                                                                                                                                                                      
     code     update variables                     - - - - - - - - - - - - -   x_ndrive = 0;  x_nconf =  0;  x_nmime =   0;  x_nentry =   0;                                                                                                                                                  

   COND       verify grounded header contents                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     echo     ... review program                   - - - - - - - - - - - - -   x_prog                                                                                                w_equal     åæ                                                                                                   
     echo     ... review version                   - - - - - - - - - - - - -   x_ver                                                                                                 w_equal     åæ                                                                                                   
     echo     ... review drive count               - - - - - - - - - - - - -   x_ndrive                                                                                              i_equal     0                                                                                                    
     echo     ... review conf count                - - - - - - - - - - - - -   x_nconf                                                                                               i_equal     0                                                                                                    
     echo     ... review mime count                - - - - - - - - - - - - -   x_nmime                                                                                               i_equal     0                                                                                                    
     echo     ... review entry count               - - - - - - - - - - - - -   x_nentry                                                                                              i_equal     0                                                                                                    
     echo     ... review heartbeat                 - - - - - - - - - - - - -   x_heart                                                                                               w_equal     åæ                                                                                                   

   COND       verify reading from database                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    x_name         , 'r'            , &x_db                                                               i_equal     0                                                                                                    
     exec     call header read                     DB__head_read               x_db    , x_prog  , x_ver   , &x_nconf , &x_nmime , &x_ndrive, &x_nentry                , x_heart     i_equal     0                                                                                                    
     exec     call database close                  DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    

   DITTO (0)  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       complete testing                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove test file                     yURG_rm                     x_name                                                                                                i_equal     0                                                                                                    
     exec     stop testing                         PROG__unit_end                                                                                                                    i_equal     0                                                                                                    




#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (DB) verify manual writing and reading of drives                    0s  drive           DB__drive_write                                                              ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create return/working variable       - - - - - - - - - - - - -   FILE   *x_db    = NULL;                                                                                                                                                                                                    
     local    create return/working variable       - - - - - - - - - - - - -   char      x_heart   [LEN_DESC]  = "";                                                                                                                                                                                      
     local    create return/working variable       - - - - - - - - - - - - -   int       n     = 0;                                                                                                                                                                                                    
     code     update heartbeat                     - - - - - - - - - - - - -   yEXEC_heartbeat (12345, 1494680400, NULL, NULL, x_heart);                                                                                                                                                                  

   REUSE -A-  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       create a couple drives                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call manual                          DRIVE_manual                NULL  ,  0, "my_host"   , "serial##"  , "/dev/sda1" , "/mnt/usb1"           , "ext4" , 12345, 12345   i_equal     0                                                                                                    
     exec     call manual                          DRIVE_manual                NULL  , 12, "hosty"     , "WD1234567" , "/dev/full" , "/"                   , "ext2" ,   345,   345   i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   2, fore=   2, back=   2, max =  12                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 0  [my_host   ] [serial##  ] [/dev/sda1 ] [/mnt/usb1 ] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : 12 [hosty     ] [WD1234567 ] [/dev/full ] [/         ] [ext2      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    2                                                                                    s_equal     DRIVE entry ( 2) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    3                                                                                    s_equal     DRIVE entry ( 3) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    4                                                                                    s_equal     DRIVE entry ( 4) : no entry                                                                          

   COND       open a blank file for writing                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    "/tmp/helios.db"                       , 'w'         , &x_db                                          i_equal     0                                                                                                    
     exec     call header write                    DB__head_write              x_db, P_BASENAME, P_VERNUM,    0,    0, g_ndrive,    0, x_heart                                       i_equal     0                                                                                                    

   COND       write the database drives list                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call drive write                     DB__drive_write             x_db                                                                                                  i_equal     0                                                                                                    

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            DRIVE__purge                                                                                                                      i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   0, fore=   0, back=   0, max =  -1                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    2                                                                                    s_equal     DRIVE entry ( 2) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    3                                                                                    s_equal     DRIVE entry ( 3) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    4                                                                                    s_equal     DRIVE entry ( 4) : no entry                                                                          

   COND       open the file for reading                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    "/tmp/helios.db"                       , 'r'         , &x_db                                          i_equal     0                                                                                                    
     exec     call header read                     DB__head_read               x_db, NULL      , NULL    , NULL, NULL, &n      , NULL, NULL                                          i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   n                                                                                                     i_equal     2                                                                                                    

   COND       read the database drives list                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call drive read                      DB__drive_read              x_db                                                                                                  i_equal     0                                                                                                    

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -f  /tmp/helios.db       > /bin/null");                                                                                                                                                                        

   COND       check the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   2, fore=   2, back=   2, max =  12                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 0  [my_host   ] [serial##  ] [/dev/sda1 ] [/mnt/usb1 ] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : 12 [hosty     ] [WD1234567 ] [/dev/full ] [/         ] [ext2      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    2                                                                                    s_equal     DRIVE entry ( 2) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    3                                                                                    s_equal     DRIVE entry ( 3) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    4                                                                                    s_equal     DRIVE entry ( 4) : no entry                                                                          

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (DB) verify manual writing and reading of entries                   0s  entry                                                                                        ((03.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   tDRIVE *x_drive = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   tPTRS  *x_root  = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   FILE   *x_db    = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   int     x_count =    0;                                                                                                                                                                                                    
     local    create return/working variable       - - - - - - - - - - - - -   char      x_heart   [LEN_DESC]  = "";                                                                                                                                                                                      
     local    create return/working variable       - - - - - - - - - - - - -   int       n     = 0;                                                                                                                                                                                                    
     code     update heartbeat                     - - - - - - - - - - - - -   yEXEC_heartbeat (12345, 1494680400, NULL, NULL, x_heart);                                                                                                                                                                  

   REUSE -A-  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare a test directory                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -fr /tmp/helios_tst > /bin/null");                                                                                                                                                                             
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/ > /bin/null");                                                                                                                                                                             

   COND       add files to the root                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf             /tmp/helios_tst/");                                                                                                                                                              
     code     copy in an ascii txt file            - - - - - - - - - - - - -   system ("cp -f /tmp/vi_clip.txt           /tmp/helios_tst");                                                                                                                                                               
     code     copy in a library file               - - - - - - - - - - - - -   system ("cp -f /lib64/librc.so.1          /tmp/helios_tst");                                                                                                                                                               

   COND       create a drive                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call manual                          DRIVE_manual                &x_drive,  2, "siquei"   , "WD1234567" , "/dev/full" , "/tmp/helios_tst" , "ext4" ,   345,   345      i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   1, fore=   1, back=   1, max =   2                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 2  [siquei    ] [WD1234567 ] [/dev/full ] [/tmp/helio] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          

   COND       create a root entry                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call root (full)                     ENTRY_fullroot              &x_root     , x_drive                                                                                 i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   1, fore=   1, back=   1                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          
     get      ... review children                  TREE__unit                  x_root       , "nchild"  ,    0                                                                       s_equal     TREE nchild      :  0n,  0f,  0b    [-                   ] [-                   ]                    

   COND       check in tree order                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    0                                                                        s_equal     TREE walk   ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    [/tmp/helios_tst]              
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    1                                                                        s_equal     TREE walk   ( 1) : no such entry                                                                     

   COND       open a file for writing                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    "/tmp/helios.db"                       , 'w'         , &x_db                                          i_equal     0                                                                                                    
     exec     call header write                    DB__head_write              x_db, P_BASENAME, P_VERNUM,    0,    0, g_ndrive, g_nptrs, x_heart                                       i_equal     0                                                                                                    

   COND       write the root entry                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call write                           DB__entry_write             x_db        , x_root->data      , &x_count                                                            i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     1                                                                                                    

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            ENTRY__purge                                                                                                                      i_equal     0                                                                                                    
     code     reset root pointer                   - - - - - - - - - - - - -   x_drive->root = NULL;                                                                                                                                                                                                      
     code     reset root pointer                   - - - - - - - - - - - - -   x_root        = NULL;                                                                                                                                                                                                      
     echo     ... head pointer                     - - - - - - - - - - - - -   h_ptrs                                                                                                p_null      NULL                                                                                                 
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   0, fore=   0, back=   0                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          

   COND       open the file for reading                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            DB__open                    "/tmp/helios.db"                       , 'r'         , &x_db                                          i_equal     0                                                                                                    
     exec     call header read                     DB__head_read               x_db, NULL      , NULL    , NULL, NULL, NULL    , NULL, NULL                                          i_equal     0                                                                                                    
     code     reset the counter                    - - - - - - - - - - - - -   x_count = 0;                                                                                                                                                                                                               

   COND       read the root entry                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call read                            DB__entry_read              x_db                            , &x_count                                                            i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     1                                                                                                    
     code     reset root pointer                   - - - - - - - - - - - - -   x_root        = h_ptrs;                                                                                                                                                                                                    

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    

   COND       review entries                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   1, fore=   1, back=   1                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          

   COND       read the files into structure                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call read                            ENTRY__level_read           x_root   , ""                                , '-'                                                    i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   4, fore=   4, back=   4                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1  10[librc.so.1          ]   - -   j j_lib    ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          
     get      ... review children                  TREE__unit                  h_ptrs       , "nchild"  ,    0                                                                       s_equal     TREE nchild      :  3n,  3f,  3b    [host.conf           ] [vi_clip.txt         ]                    
     get      ... review children                  TREE__unit                  x_root       , "nchild"  ,    0                                                                       s_equal     TREE nchild      :  3n,  3f,  3b    [host.conf           ] [vi_clip.txt         ]                    
     echo     ... root vs head                     - - - - - - - - - - - - -   x_root                                                                                                p_equal     h_ptrs                                                                                               

   COND       check in tree order                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    0                                                                        s_equal     TREE walk   ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    [/tmp/helios_tst]              
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    1                                                                        s_equal     TREE walk   ( 1) : 2   1   9[host.conf           ]   - -   t conf     [/tmp/helios_tst/host.conf]    
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    2                                                                        s_equal     TREE walk   ( 2) : 2   1  10[librc.so.1          ]   - -   j j_lib    [/tmp/helios_tst/librc.so.1]   
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    3                                                                        s_equal     TREE walk   ( 3) : 2   1  11[vi_clip.txt         ]   - -   t txt      [/tmp/helios_tst/vi_clip.txt]  
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    4                                                                        s_equal     TREE walk   ( 4) : no such entry                                                                     

#> COND       write the complete structure                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
#>   exec     call write                           DB_write                    "/tmp/helios.db"  , &x_count                                                                          i_equal     0                                                                                                    
#>   echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     4                                                                                                    
#>
#> COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.018))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
#>   exec     run purge                            ENTRY__purge                                                                                                                      i_equal     0                                                                                                    
#>   code     reset root pointer                   - - - - - - - - - - - - -   x_drive->root = NULL;                                                                                                                                                                                                      
#>   code     reset root pointer                   - - - - - - - - - - - - -   x_root        = NULL;                                                                                                                                                                                                      
#>   echo     ... head pointer                     - - - - - - - - - - - - -   h_ptrs                                                                                                p_null      NULL                                                                                                 
#>   get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   0, fore=   0, back=   0                                                    
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : no entry                                                                          
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
#>
#> COND       open the file for reading                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.019))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
#>   exec     call open                            DB__open                    "/tmp/helios.db"                       , 'r'         , &x_db                                          i_equal     0                                                                                                    
#>   code     reset the counter                    - - - - - - - - - - - - -   x_count = 0;                                                                                                                                                                                                               
#>
#> COND       read the entries                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.020))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
#>   exec     call write                           DB_read                     "/tmp/helios.db"  , &x_count                                                                          i_equal     0                                                                                                    
#>   echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     4                                                                                                    
#>   code     reset root pointer                   - - - - - - - - - - - - -   x_root        = h_ptrs;                                                                                                                                                                                                    
#>
#> COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.021))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
#>   exec     call close                           DB__close                   &x_db                                                                                                 i_equal     0                                                                                                    
#>
#> COND       review entries                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.022))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
#>   get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   4, fore=   4, back=   4                                                    
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  10[librc.so.1          ]   - -   j j_lib    ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬   ¬¬ ¬¬               
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
#>   get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          
  
   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.023))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (DB) verify writing and reading of everything (single level)                                                                                                         ((04.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   tDRIVE *x_drive = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   tPTRS  *x_root  = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   FILE   *x_db    = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   int     x_count =    0;                                                                                                                                                                                                    

   REUSE -A-  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare a test directory                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -fr /tmp/helios_tst > /bin/null");                                                                                                                                                                             
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/ > /bin/null");                                                                                                                                                                             

   COND       add files to the root                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf             /tmp/helios_tst/");                                                                                                                                                              
     code     copy in an ascii txt file            - - - - - - - - - - - - -   system ("cp -f /tmp/vi_clip.txt           /tmp/helios_tst");                                                                                                                                                               
     code     copy in a library file               - - - - - - - - - - - - -   system ("cp -f /lib64/librc.so.1          /tmp/helios_tst");                                                                                                                                                               

   COND       create a drive                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call manual                          DRIVE_manual                &x_drive,  2, "siquei"   , "WD1234567" , "/dev/full" , "/tmp/helios_tst" , "ext4" ,   345,   345      i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   1, fore=   1, back=   1, u_drive=   2                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 2  [siquei    ] [WD1234567 ] [/dev/full ] [/tmp/helio] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          

   COND       create a root entry                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call root (full)                     ENTRY_fullroot              &x_root     , x_drive                                                                                 i_equal     0                                                                                                    
     exec     call read                            ENTRY__level_read           x_root      , ""                                , '-'                                                 i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   4, fore=   4, back=   4                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1  10[librc.so.1          ]   - -   x so       ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          

   COND       write the complete structure                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call write                           DB_write                    "/tmp/helios.db"  , &x_count                                                                          i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     4                                                                                                    

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            ENTRY__purge                                                                                                                      i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   0, fore=   0, back=   0                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          

   COND       read the structure back                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     reset the counter                    - - - - - - - - - - - - -   x_count = 0;                                                                                                                                                                                                               
     exec     call read                            DB_read                     "/tmp/helios.db"  , &x_count                                                                          i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     4                                                                                                    

   COND       check the drives                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   1, fore=   1, back=   1, max =   2                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 2  [siquei    ] [WD1234567 ] [/dev/full ] [/tmp/helio] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          

   COND       check the entries                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   4, fore=   4, back=   4                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  10[librc.so.1          ]   - -   x so       ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((04.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP          (DB) verify writing and reading of everything (single level)                                                                                                         ((05.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   tDRIVE *x_drive = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   tPTRS  *x_root  = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   FILE   *x_db    = NULL;                                                                                                                                                                                                    
     local    create return/working variables      - - - - - - - - - - - - -   int     x_count =    0;                                                                                                                                                                                                    

   REUSE -A-  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare a test directory                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -fr /tmp/helios_tst > /bin/null");                                                                                                                                                                             
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/ > /bin/null");                                                                                                                                                                             

   COND       create five sub-directories                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/early > /bin/null");                                                                                                                                                                        
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/new   > /bin/null");                                                                                                                                                                        
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/middle   > /bin/null");                                                                                                                                                                     
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/middle/late   > /bin/null");                                                                                                                                                                
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/middle/late/old   > /bin/null");                                                                                                                                                            

   COND       add in a file to late                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/middle/late/gold");                                                                                                                                                          

   COND       add three files to middle                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/middle/nicest");                                                                                                                                                             
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/middle/nice");                                                                                                                                                               
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/middle/nicer");                                                                                                                                                              

   COND       add files to the root                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf             /tmp/helios_tst/");                                                                                                                                                              
     code     copy in an ascii txt file            - - - - - - - - - - - - -   system ("cp -f /tmp/vi_clip.txt           /tmp/helios_tst");                                                                                                                                                               
     code     copy in a library file               - - - - - - - - - - - - -   system ("cp -f /lib64/librc.so.1          /tmp/helios_tst");                                                                                                                                                               

   COND       add two files to new                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/new/file2.conf");                                                                                                                                                            
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/new/file1.conf");                                                                                                                                                            

   COND       create a drive                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call manual                          DRIVE_manual                &x_drive,  2, "siquei"   , "WD1234567" , "/dev/full" , "/tmp/helios_tst" , "ext4" ,   345,   345      i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   1, fore=   1, back=   1, u_drive=   2                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 2  [siquei    ] [WD1234567 ] [/dev/full ] [/tmp/helio] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          

   COND       create a root entry                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call root (full)                     ENTRY_fullroot              &x_root     , x_drive                                                                                 i_equal     0                                                                                                    
     exec     call inventory                       ENTRY__level_read           x_root   , ""                                , '-'                                                    i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=  15, fore=  15, back=  15                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1  10[librc.so.1          ]   - -   x so       ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : 2   1   6[middle              ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : 2   2   5[nicer               ]   - -   o o_none   ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    6                                                                                    s_equal     ENTRY entry ( 6) : 2   2   4[nice                ]   - -   o o_none   ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    7                                                                                    s_equal     ENTRY entry ( 7) : 2   2   6[nicest              ]   - -   o o_none   ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    8                                                                                    s_equal     ENTRY entry ( 8) : 2   2   4[late                ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,    9                                                                                    s_equal     ENTRY entry ( 9) : 2   3   4[gold                ]   - -   o o_none   ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,   10                                                                                    s_equal     ENTRY entry (10) : 2   3   3[old                 ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,   11                                                                                    s_equal     ENTRY entry (11) : 2   1   3[new                 ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,   12                                                                                    s_equal     ENTRY entry (12) : 2   2  10[file1.conf          ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,   13                                                                                    s_equal     ENTRY entry (13) : 2   2  10[file2.conf          ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,   14                                                                                    s_equal     ENTRY entry (14) : 2   1   5[early               ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬   
     get      ... review entry                     ENTRY__unit                 "entry"     ,   15                                                                                    s_equal     ENTRY entry (15) : no entry                                                                          

   COND       write the complete structure                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call write                           DB_write                    "/tmp/helios.db"  , &x_count                                                                          i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     15                                                                                                   

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            ENTRY__purge                                                                                                                      i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   0, fore=   0, back=   0                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((05.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



# end-of-file.  done, finito, completare, whimper [Ï´···
