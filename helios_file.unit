#!/usr/local/bin/koios
#   koios-polos (north star) -- customized c unit testing meta-program and mini-language
#   program under test  : helios_file
#   auto-generated script file converted from a previous script version



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include public header                helios.h                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify openning and closing of database                                                                                                                           ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create return/working variables      - - - - - - - - - - - - -   FILE   *x_file  = NULL;                                                                                                                                                                                                     

   COND       open the file                                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , FILE_DB                                , 'r'                                            i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_file                                                                                                p_exists    NULL

   COND       close it again                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_file                                                                                                p_null      NULL

   COND       verify file defenses                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   NULL        , FILE_DB                                , 'r'                                            i_lesser    0                                                                                                    
     code     force a value into file pointer      - - - - - - - - - - - - -   x_file = 0x11111111;                                                                                                                                                                                                        
     exec     call open                            FILE_open                   &x_file     , FILE_DB                                , 'r'                                            i_lesser    0                                                                                                    
     code     reset the file pointer               - - - - - - - - - - - - -   x_file = NULL;                                                                                                                                                                                                              

   COND       verify other defenses                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , NULL                                   , 'r'                                            i_lesser    0                                                                                                    
     exec     call open                            FILE_open                   &x_file     , FILE_DB                                , NULL                                           i_lesser    0                                                                                                    
     exec     call open                            FILE_open                   &x_file     , FILE_DB                                , 'x'                                            i_lesser    0                                                                                                    

   COND       open a different file                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/root/z_gehye/vi_clip.txt"            , 'r'                                            i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_file                                                                                                p_exists    NULL

   COND       close it again                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_file                                                                                                p_null      NULL

   COND       attempt to open other kinds of files                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/root"                                , 'r'                                            i_lesser    0                                                                                                    
     exec     call open                            FILE_open                   &x_file     , "/dev/sda1"                            , 'r'                                            i_lesser    0                                                                                                    
     exec     call open                            FILE_open                   &x_file     , "/lib/librc.so"                        , 'r'                                            i_lesser    0                                                                                                    

   COND       open a blank file for writing                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/tmp/helios.testing"                  , 'w'                                            i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_file                                                                                                p_exists    NULL

   COND       close it again                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_file                                                                                                p_null      NULL     
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -f  /tmp/helios.testing  > /bin/null");                                                                                                                                                                        

   COND       open an existing file for writing                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     touch to create the file             - - - - - - - - - - - - -   system ("touch  /tmp/helios.testing  > /bin/null");                                                                                                                                                                        
     exec     call open                            FILE_open                   &x_file     , "/tmp/helios.testing"                  , 'w'                                            i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_file                                                                                                p_exists    NULL

   COND       attempt a double opene                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/tmp/helios.testing"                  , 'w'                                            i_lesser    0                                                                                                    

   COND       close it again                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    
     echo     ... check file pointer               - - - - - - - - - - - - -   x_file                                                                                                p_null      NULL     
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -f  /tmp/helios.testing  > /bin/null");                                                                                                                                                                        

   COND       attempt a double close                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_lesser    0                                                                                                    

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify manual writing and reading of drives                                                                                                                       ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create return/working variables      - - - - - - - - - - - - -   FILE   *x_file  = NULL;                                                                                                                                                                                                     

   COND       create a couple drives                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call manual                          DRIVE_manual                NULL  ,  0, "my_host"   , "serial##"  , "/dev/sda1" , "/mnt/usb1"           , "ext4" , 12345, 12345   i_equal     0                                                                                                    
     exec     call manual                          DRIVE_manual                NULL  , 12, "hosty"     , "WD1234567" , "/dev/full" , "/"                   , "ext2" ,   345,   345   i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   2, fore=   2, back=   2, u_drive=  12                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 0  [my_host   ] [serial##  ] [/dev/sda1 ] [/mnt/usb1 ] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : 12 [hosty     ] [WD1234567 ] [/dev/full ] [/         ] [ext2      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    2                                                                                    s_equal     DRIVE entry ( 2) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    3                                                                                    s_equal     DRIVE entry ( 3) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    4                                                                                    s_equal     DRIVE entry ( 4) : no entry                                                                          

   COND       open a blank file for writing                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/tmp/helios.db"                       , 'w'                                            i_equal     0                                                                                                    

   COND       write the database drives list                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call drive write                     WRITE__drives               x_file                                                                                                i_equal     0                                                                                                    

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            DRIVE__purge                                                                                                                      i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   0, fore=   0, back=   0, u_drive=  -1                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    2                                                                                    s_equal     DRIVE entry ( 2) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    3                                                                                    s_equal     DRIVE entry ( 3) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    4                                                                                    s_equal     DRIVE entry ( 4) : no entry                                                                          

   COND       open the file for reading                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/tmp/helios.db"                       , 'r'                                            i_equal     0                                                                                                    

   COND       read the database drives list                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call drive read                      READ__drives                x_file                                                                                                i_equal     0                                                                                                    

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -f  /tmp/helios.db       > /bin/null");                                                                                                                                                                        

   COND       check the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   2, fore=   2, back=   2, u_drive=  12                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 0  [my_host   ] [serial##  ] [/dev/sda1 ] [/mnt/usb1 ] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : 12 [hosty     ] [WD1234567 ] [/dev/full ] [/         ] [ext2      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    2                                                                                    s_equal     DRIVE entry ( 2) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    3                                                                                    s_equal     DRIVE entry ( 3) : no entry                                                                          
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    4                                                                                    s_equal     DRIVE entry ( 4) : no entry                                                                          

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify manual writing and reading of entries                                                                                                                      ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create return/working variables      - - - - - - - - - - - - -   tDRIVE *x_drive = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   tPTRS  *x_root  = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   FILE   *x_file  = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   int     x_count =    0;                                                                                                                                                                                                     

   COND       prepare a test directory                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((CC.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -fr /tmp/helios_tst > /bin/null");                                                                                                                                                                                          
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/ > /bin/null");                                                                                                                                                                                         

   COND       add files to the root                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf             /tmp/helios_tst/");                                                                                                                                                                          
     code     copy in an ascii txt file            - - - - - - - - - - - - -   system ("cp -f /root/z_gehye/vi_clip.txt  /tmp/helios_tst");                                                                                                                                                                
     code     copy in a library file               - - - - - - - - - - - - -   system ("cp -f /lib/librc.so.1            /tmp/helios_tst");                                                                                                                                                                

   COND       create a drive                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call manual                          DRIVE_manual                &x_drive,  2, "siquei"   , "WD1234567" , "/dev/full" , "/tmp/helios_tst" , "ext4" ,   345,   345      i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   1, fore=   1, back=   1, u_drive=   2                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 2  [siquei    ] [WD1234567 ] [/dev/full ] [/tmp/helio] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          

   COND       create a root entry                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call root (full)                     ENTRY_fullroot              &x_root     , x_drive                                                                                 i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   1, fore=   1, back=   1                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          
     get      ... review children                  TREE__unit                  x_root       , "nchild"  ,    0                                                                       s_equal     TREE nchild      :  0n,  0f,  0b    [-                   ] [-                   ]                    

   COND       check in tree order                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    0                                                                        s_equal     TREE walk   ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    [/tmp/helios_tst]             
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    1                                                                        s_equal     TREE walk   ( 1) : no such entry                                                                      

   COND       open a file for writing                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/tmp/helios.db"                       , 'w'                                            i_equal     0                                                                                                    

   COND       write the root entry                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call write                           WRITE__entry                x_file      , x_root->data      , &x_count                                                            i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     1      

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            ENTRY__purge                                                                                                                      i_equal     0                                                                                                    
     code     reset root pointer                   - - - - - - - - - - - - -   x_drive->root = NULL;                                                                                                                                                                                                       
     code     reset root pointer                   - - - - - - - - - - - - -   x_root        = NULL;                                                                                                                                                                                                       
     echo     ... head pointer                     - - - - - - - - - - - - -   h_ptrs                                                                                                p_null      NULL    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   0, fore=   0, back=   0                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          

   COND       open the file for reading                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/tmp/helios.db"                       , 'r'                                            i_equal     0                                                                                                    
     code     reset the counter                    - - - - - - - - - - - - -   x_count = 0;                                                                                                                                                                                                                           

   COND       read the root entry                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call read                            READ__entry                 x_file                          , &x_count                                                            i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     1      
     code     reset root pointer                   - - - - - - - - - - - - -   x_root        = h_ptrs;                                                                                                                                                                                                     

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    

   COND       review entries                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   1, fore=   1, back=   1                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          

   COND       read the files into structure                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call read                            ENTRY__level_read           x_root   , ""                                , '-'                                                    i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   4, fore=   4, back=   4                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1  10[librc.so.1          ]   - -   x so       ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          
     get      ... review children                  TREE__unit                  h_ptrs       , "nchild"  ,    0                                                                       s_equal     TREE nchild      :  3n,  3f,  3b    [host.conf           ] [vi_clip.txt         ]                    
     get      ... review children                  TREE__unit                  x_root       , "nchild"  ,    0                                                                       s_equal     TREE nchild      :  3n,  3f,  3b    [host.conf           ] [vi_clip.txt         ]                    
     echo     ... root vs head                     - - - - - - - - - - - - -   x_root                                                                                                p_equal     h_ptrs 

   COND       check in tree order                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    0                                                                        s_equal     TREE walk   ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    [/tmp/helios_tst]             
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    1                                                                        s_equal     TREE walk   ( 1) : 2   1   9[host.conf           ]   - -   t conf     [/tmp/helios_tst/host.conf]   
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    2                                                                        s_equal     TREE walk   ( 2) : 2   1  10[librc.so.1          ]   - -   x so       [/tmp/helios_tst/librc.so.1]  
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    3                                                                        s_equal     TREE walk   ( 3) : 2   1  11[vi_clip.txt         ]   - -   t txt      [/tmp/helios_tst/vi_clip.txt] 
     get      ... review entry in walking order    TREE__unit                  x_root      , "walk"    ,    4                                                                        s_equal     TREE walk   ( 4) : no such entry                                                                      

   COND       write the complete structure                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call write                           WRITE_all                   "/tmp/helios.db"  , &x_count                                                            i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     4      

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            ENTRY__purge                                                                                                                      i_equal     0                                                                                                    
     code     reset root pointer                   - - - - - - - - - - - - -   x_drive->root = NULL;                                                                                                                                                                                                       
     code     reset root pointer                   - - - - - - - - - - - - -   x_root        = NULL;                                                                                                                                                                                                       
     echo     ... head pointer                     - - - - - - - - - - - - -   h_ptrs                                                                                                p_null      NULL    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   0, fore=   0, back=   0                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          

   COND       open the file for reading                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call open                            FILE_open                   &x_file     , "/tmp/helios.db"                       , 'r'                                            i_equal     0                                                                                                    
     code     reset the counter                    - - - - - - - - - - - - -   x_count = 0;                                                                                                                                                                                                                           

   COND       read the entries                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call write                           READ_all                    "/tmp/helios.db"  , &x_count                                                            i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     4      
     code     reset root pointer                   - - - - - - - - - - - - -   x_root        = h_ptrs;                                                                                                                                                                                                     

   COND       close it                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call close                           FILE__close                 &x_file                                                                                               i_equal     0                                                                                                    

   COND       review entries                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   4, fore=   4, back=   4                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  10[librc.so.1          ]   - -   x so       ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify writing and reading of everything (single level)                                                                                                           ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create return/working variables      - - - - - - - - - - - - -   tDRIVE *x_drive = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   tPTRS  *x_root  = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   FILE   *x_file  = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   int     x_count =    0;                                                                                                                                                                                                     

   COND       prepare a test directory                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((CC.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -fr /tmp/helios_tst > /bin/null");                                                                                                                                                                                          
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/ > /bin/null");                                                                                                                                                                                         

   COND       add files to the root                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf             /tmp/helios_tst/");                                                                                                                                                                          
     code     copy in an ascii txt file            - - - - - - - - - - - - -   system ("cp -f /root/z_gehye/vi_clip.txt  /tmp/helios_tst");                                                                                                                                                                
     code     copy in a library file               - - - - - - - - - - - - -   system ("cp -f /lib/librc.so.1            /tmp/helios_tst");                                                                                                                                                                

   COND       create a drive                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call manual                          DRIVE_manual                &x_drive,  2, "siquei"   , "WD1234567" , "/dev/full" , "/tmp/helios_tst" , "ext4" ,   345,   345      i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   1, fore=   1, back=   1, u_drive=   2                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 2  [siquei    ] [WD1234567 ] [/dev/full ] [/tmp/helio] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          

   COND       create a root entry                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call root (full)                     ENTRY_fullroot              &x_root     , x_drive                                                                                 i_equal     0                                                                                                    
     exec     call read                            ENTRY__level_read           x_root      , ""                                , '-'                                                    i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   4, fore=   4, back=   4                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1  10[librc.so.1          ]   - -   x so       ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          

   COND       write the complete structure                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call write                           WRITE_all                   "/tmp/helios.db"  , &x_count                                                            i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     4      

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            ENTRY__purge                                                                                                                      i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   0, fore=   0, back=   0                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          

   COND       read the structure back                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     reset the counter                    - - - - - - - - - - - - -   x_count = 0;                                                                                                                                                                                                                           
     exec     call read                            READ_all                    "/tmp/helios.db"  , &x_count                                                                          i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     4      

   COND       check the drives                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   1, fore=   1, back=   1, u_drive=   2                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 2  [siquei    ] [WD1234567 ] [/dev/full ] [/tmp/helio] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          

   COND       check the entries                                                  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   4, fore=   4, back=   4                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  10[librc.so.1          ]   - -   x so       ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : no entry                                                                          

   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  -  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  t  ========(var)======= 
SCRP          (FILE) verify writing and reading of everything (single level)                                                                                                           ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       verify program setup                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     setup the program                    PROG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     code     create return/working variables      - - - - - - - - - - - - -   tDRIVE *x_drive = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   tPTRS  *x_root  = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   FILE   *x_file  = NULL;                                                                                                                                                                                                     
     code     create return/working variables      - - - - - - - - - - - - -   int     x_count =    0;                                                                                                                                                                                                     

   COND       prepare a test directory                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((CC.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     make sure any old test is gone       - - - - - - - - - - - - -   system ("rm -fr /tmp/helios_tst > /bin/null");                                                                                                                                                                                          
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/ > /bin/null");                                                                                                                                                                                         

   COND       create five sub-directories                                        - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/early > /bin/null");                                                                                                                                                                                         
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/new   > /bin/null");                                                                                                                                                                                         
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/middle   > /bin/null");                                                                                                                                                                                         
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/middle/late   > /bin/null");                                                                                                                                                                                         
     code     create a test directory              - - - - - - - - - - - - -   system ("mkdir /tmp/helios_tst/middle/late/old   > /bin/null");                                                                                                                                                                                         

   COND       add in a file to late                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/middle/late/gold");                                                                                                                                                            

   COND       add three files to middle                                          - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/middle/nicest");                                                                                                                                                               
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/middle/nice");                                                                                                                                                                 
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/middle/nicer");                                                                                                                                                                

   COND       add files to the root                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf             /tmp/helios_tst/");                                                                                                                                                                          
     code     copy in an ascii txt file            - - - - - - - - - - - - -   system ("cp -f /root/z_gehye/vi_clip.txt  /tmp/helios_tst");                                                                                                                                                                
     code     copy in a library file               - - - - - - - - - - - - -   system ("cp -f /lib/librc.so.1            /tmp/helios_tst");                                                                                                                                                                

   COND       add two files to new                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/new/file2.conf");                                                                                                                                                           
     code     copy in a configuration file         - - - - - - - - - - - - -   system ("cp -f /etc/host.conf /tmp/helios_tst/new/file1.conf");                                                                                                                                                           

   COND       create a drive                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call manual                          DRIVE_manual                &x_drive,  2, "siquei"   , "WD1234567" , "/dev/full" , "/tmp/helios_tst" , "ext4" ,   345,   345      i_equal     0                                                                                                    
     get      ... review drive count               DRIVE__unit                 "count"     ,    0                                                                                    s_equal     DRIVE count      : num=   1, fore=   1, back=   1, u_drive=   2                                      
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    0                                                                                    s_equal     DRIVE entry ( 0) : 2  [siquei    ] [WD1234567 ] [/dev/full ] [/tmp/helio] [ext4      ]               
     get      ... review drive entry               DRIVE__unit                 "entry"     ,    1                                                                                    s_equal     DRIVE entry ( 1) : no entry                                                                          

   COND       create a root entry                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call root (full)                     ENTRY_fullroot              &x_root     , x_drive                                                                                 i_equal     0                                                                                                    
     exec     call inventory                       ENTRY__level_read           x_root   , ""                                , '-'                                                    i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=  15, fore=  15, back=  15                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : 2   0  15[/tmp/helios_tst     ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : 2   1  10[librc.so.1          ]   - -   x so       ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : 2   1  11[vi_clip.txt         ]   - -   t txt      ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : 2   1   9[host.conf           ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : 2   1   6[middle              ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    5                                                                                    s_equal     ENTRY entry ( 5) : 2   2   5[nicer               ]   - -   o o_none   ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    6                                                                                    s_equal     ENTRY entry ( 6) : 2   2   4[nice                ]   - -   o o_none   ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    7                                                                                    s_equal     ENTRY entry ( 7) : 2   2   6[nicest              ]   - -   o o_none   ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    8                                                                                    s_equal     ENTRY entry ( 8) : 2   2   4[late                ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,    9                                                                                    s_equal     ENTRY entry ( 9) : 2   3   4[gold                ]   - -   o o_none   ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,   10                                                                                    s_equal     ENTRY entry (10) : 2   3   3[old                 ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,   11                                                                                    s_equal     ENTRY entry (11) : 2   1   3[new                 ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,   12                                                                                    s_equal     ENTRY entry (12) : 2   2  10[file1.conf          ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,   13                                                                                    s_equal     ENTRY entry (13) : 2   2  10[file2.conf          ]   - -   t conf     ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,   14                                                                                    s_equal     ENTRY entry (14) : 2   1   5[early               ]   d -   d d_dir    ¬ ¬¬¬¬¬¬ ¬¬¬¬¬¬   ¬¬¬¬¬¬¬¬¬¬  
     get      ... review entry                     ENTRY__unit                 "entry"     ,   15                                                                                    s_equal     ENTRY entry (15) : no entry                                                                          

   COND       write the complete structure                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     call write                           WRITE_all                   "/tmp/helios.db"  , &x_count                                                            i_equal     0                                                                                                    
     echo     ... check count                      - - - - - - - - - - - - -   x_count                                                                                               i_equal     15     

   COND       purge the list                                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     run purge                            ENTRY__purge                                                                                                                      i_equal     0                                                                                                    
     get      ... review count                     ENTRY__unit                 "count"     ,    0                                                                                    s_equal     ENTRY count      : num=   0, fore=   0, back=   0                                                    
     get      ... review entry                     ENTRY__unit                 "entry"     ,    0                                                                                    s_equal     ENTRY entry ( 0) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    1                                                                                    s_equal     ENTRY entry ( 1) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    2                                                                                    s_equal     ENTRY entry ( 2) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    3                                                                                    s_equal     ENTRY entry ( 3) : no entry                                                                          
     get      ... review entry                     ENTRY__unit                 "entry"     ,    4                                                                                    s_equal     ENTRY entry ( 4) : no entry                                                                          


   COND       verify program teardown                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.017))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     wrap-up the program                  PROG__unit_end                                                                                                                    i_pass      0                                                                                                    
